<ContentPage
	x:Class="MyFactory.MauiClient.Pages.Organization.Employees.EmployeeDetailsPage"
	xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Organization.Employees"
	Title="Карточка сотрудника"
	x:DataType="view_model:EmployeeDetailsPageViewModel">
	<ScrollView>
		<Grid
			Padding="16"
			RowDefinitions="Auto,Auto,Auto"
			RowSpacing="12">
			<Grid
				Margin="0,16"
				ColumnDefinitions="*,Auto,Auto"
				ColumnSpacing="8">
				<Button
					Grid.Column="1"
					Command="{Binding SaveCommand}"
					Text="Сохранить" />
				<Button
					Grid.Column="2"
					Command="{Binding BackCommand}"
					Text="Назад" />
			</Grid>

			<Grid
				Grid.Row="1"
				ColumnDefinitions="Auto,*"
				ColumnSpacing="12"
				RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto"
				RowSpacing="6">
				<Label
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="ФИО:"
					VerticalTextAlignment="Center" />
				<Entry
					Grid.Column="1"
					ReturnType="Next"
					Text="{Binding FullName}" />

				<Label
					Grid.Row="1"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Цех:"
					VerticalTextAlignment="Center" />
				<Picker
					Grid.Row="1"
					Grid.Column="1"
					ItemDisplayBinding="{Binding Name}"
					ItemsSource="{Binding Departments}"
					SelectedItem="{Binding SelectedDepartment}" />

				<Label
					Grid.Row="2"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Должность:"
					VerticalTextAlignment="Center" />
				<Picker
					Grid.Row="2"
					Grid.Column="1"
					ItemDisplayBinding="{Binding Name}"
					ItemsSource="{Binding Positions}"
					SelectedItem="{Binding SelectedPosition}" />

				<Label
					Grid.Row="3"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Дата приёма:"
					VerticalTextAlignment="Center" />
				<DatePicker
					Grid.Row="3"
					Grid.Column="1"
					Date="{Binding HiredAt}" />

				<Label
					Grid.Row="4"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Статус:"
					VerticalTextAlignment="Center" />
				<Picker
					Grid.Row="4"
					Grid.Column="1"
					ItemsSource="{Binding Statuses}"
					SelectedItem="{Binding Status}" />

				<Label
					Grid.Row="5"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Разряд:"
					VerticalTextAlignment="Center" />
				<Entry
					Grid.Row="5"
					Grid.Column="1"
					Keyboard="Numeric"
					ReturnType="Next"
					Text="{Binding Grade}" />

				<Label
					Grid.Row="6"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Ставка в час"
					VerticalTextAlignment="Center" />
				<Entry
					Grid.Row="6"
					Grid.Column="1"
					Keyboard="Numeric"
					Text="{Binding RatePerHour}" />

				<Label
					Grid.Row="7"
					FontAttributes="Bold"
					HorizontalTextAlignment="End"
					Text="Процент за переработку:"
					VerticalTextAlignment="Center" />
				<Entry
					Grid.Row="7"
					Grid.Column="1"
					Keyboard="Numeric"
					Text="{Binding PremiumPercent}" />
			</Grid>

			<Grid
				Grid.Row="2"
				Margin="0,16"
				ColumnDefinitions="Auto,Auto,Auto,Auto,*"
				ColumnSpacing="8">
				<Button Command="{Binding AccrualsCommand}" Text="Начисления" />
				<Button
					Grid.Column="1"
					Command="{Binding PaymentsCommand}"
					Text="Выплаты" />
				<Button
					Grid.Column="2"
					Command="{Binding OpenTimesheetCommand}"
					Text="Табель" />
				<Button
					Grid.Column="3"
					Command="{Binding OpenAssignmentsCommand}"
					Text="Задания" />
				<Button
					Grid.Column="4"
					Background="Tomato"
					Command="{Binding DeactivateCommand}"
					HorizontalOptions="End"
					Text="Уволить" />
			</Grid>
		</Grid>
	</ScrollView>
</ContentPage>
