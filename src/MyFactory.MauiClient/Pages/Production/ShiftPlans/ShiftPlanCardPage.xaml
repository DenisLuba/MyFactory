<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MyFactory.MauiClient.Pages.Production.ShiftPlans.ShiftPlanCardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Production.ShiftPlans"
    x:DataType="view_model:ShiftPlanCardPageViewModel"
    Title="Сменное задание">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="16">
            <ActivityIndicator
                IsRunning="{Binding IsBusy}"
                IsVisible="{Binding IsBusy}"
                VerticalOptions="Center" />

            <VerticalStackLayout Spacing="12" IsVisible="{Binding HasPlan}">
                <Label
                    Text="{Binding Plan.EmployeeName}"
                    FontSize="22"
                    FontAttributes="Bold" />

                <Label Text="{Binding Plan.SpecificationName, StringFormat='Изделие: {0}'}" />
                <Label Text="{Binding Plan.Date, StringFormat='Дата: {0:dd.MM.yyyy}'}" />
                <Label Text="{Binding Plan.PlannedQuantity, StringFormat='План: {0} изделий'}" />

                <Button
                    Text="Фактическая сдача"
                    Command="{Binding OpenResultCommand}" />
            </VerticalStackLayout>

            <Label
                Text="Сменное задание не найдено"
                HorizontalOptions="Center"
                TextColor="{DynamicResource Gray400}"
                IsVisible="{Binding HasNoPlan}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
