<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MyFactory.MauiClient.Pages.Production.ShiftResults.ShiftResultCardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Production.ShiftResults"
    x:DataType="view_model:ShiftResultCardPageViewModel"
    Title="Фактическая сдача">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="12">
            <ActivityIndicator
                IsRunning="{Binding IsBusy}"
                IsVisible="{Binding IsBusy}"
                VerticalOptions="Center" />

            <VerticalStackLayout Spacing="10" IsVisible="{Binding HasResult}">
                <Label
                    Text="{Binding Result.EmployeeName}"
                    FontSize="22"
                    FontAttributes="Bold" />

                <Label Text="{Binding Result.SpecificationName, StringFormat='Изделие: {0}'}" />
                <Label Text="{Binding Result.Date, StringFormat='Дата: {0:dd.MM.yyyy}'}" />
                <Label Text="{Binding Result.PlannedQty, StringFormat='План: {0}'}" />

                <Entry
                    Text="{Binding ActualQty}"
                    Keyboard="Numeric"
                    Placeholder="Факт" />

                <Entry
                    Text="{Binding HoursWorked}"
                    Keyboard="Numeric"
                    Placeholder="Часы" />

                <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8" VerticalOptions="Center">
                    <CheckBox IsChecked="{Binding Bonus}" />
                    <Label Grid.Column="1" Text="Премия" VerticalOptions="Center" />
                </Grid>

                <Button
                    Text="Сохранить"
                    Command="{Binding SaveCommand}"
                    IsEnabled="{Binding HasResult}" />
            </VerticalStackLayout>

            <Label
                Text="Данные по сдаче не найдены"
                HorizontalOptions="Center"
                TextColor="{DynamicResource Gray400}"
                IsVisible="{Binding HasNoResult}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
