<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MyFactory.MauiClient.Pages.Production.ProductionOrders.ProductionOrderCardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Production.ProductionOrders"
    x:DataType="view_model:ProductionOrderCardPageViewModel"
    Title="Производственный заказ">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="16">
            <ActivityIndicator IsRunning="{Binding IsBusy}" IsVisible="{Binding IsBusy}" />

            <Border BackgroundColor="{AppThemeBinding Light=#F7F7F7, Dark=#1F1F1F}" Padding="16" IsVisible="{Binding HasOrder}">
                <VerticalStackLayout Spacing="8">
                    <Label Text="{Binding Order.OrderNumber}" FontAttributes="Bold" FontSize="22" />
                    <Label Text="{Binding Order.ProductName}" FontSize="18" />
                    <Label Text="{Binding Order.Quantity, StringFormat='Количество: {0}'}" />
                    <Label Text="{Binding Order.StartDate, StringFormat='Старт: {0:dd.MM.yyyy}'}" />
                    <Label Text="{Binding Order.EndDate, StringFormat='Завершение: {0:dd.MM.yyyy}'}" />
                    <Label Text="{Binding Order.Responsible, StringFormat='Ответственный: {0}'}" />
                    <Label Text="{Binding Order.Status, StringFormat='Статус: {0}'}" />
                </VerticalStackLayout>
            </Border>

            <Label
                Text="Заказ не найден"
                HorizontalOptions="Center"
                IsVisible="{Binding HasNoOrder}" />

            <Button
                Text="Передача материалов"
                Command="{Binding OpenTransfersCommand}"
                IsEnabled="{Binding HasOrder}" />

            <Button
                Text="Распределение по этапам"
                Command="{Binding OpenStageDistributionCommand}"
                BackgroundColor="#EEEEEE"
                TextColor="Black"
                IsEnabled="{Binding HasOrder}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
