<ContentPage
	x:Class="MyFactory.MauiClient.Pages.Users.UserDetailsPage"
	xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:controllers="clr-namespace:MyFactory.MauiClient.Controllers"
	xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Users"
	Title="Карточка пользователя"
	x:DataType="view_model:UserDetailsPageViewModel">

	<ContentPage.Resources>
		<controllers:SwitchLabel x:Key="SwitchLabelController" />
	</ContentPage.Resources>

	<ScrollView>
		<VerticalStackLayout Padding="32" Spacing="12">
			<Label
				Padding="24,8,0,24"
				FontAttributes="Bold"
				FontSize="18"
				Text="{Binding Username}" />

			<Grid
				ColumnDefinitions="Auto,Auto"
				ColumnSpacing="8"
				RowDefinitions="Auto,Auto,Auto,Auto"
				RowSpacing="8">
				<Label
					FontAttributes="Bold"
					Text="Логин:"
					VerticalTextAlignment="Center" />
				<Entry Grid.Column="1" Text="{Binding Username}" />

				<Label
					Grid.Row="1"
					FontAttributes="Bold"
					Text="Роль:"
					VerticalTextAlignment="Center" />
				<Picker
					Grid.Row="1"
					Grid.Column="1"
					ItemDisplayBinding="{Binding Name}"
					ItemsSource="{Binding Roles}"
					SelectedItem="{Binding SelectedRole}" />

				<Label
					Grid.Row="2"
					FontAttributes="Bold"
					Text="Статус:"
					VerticalTextAlignment="Center" />

				<controllers:SwitchLabel
					Grid.Row="2"
					Grid.Column="1"
					IsToggled="{Binding IsActive}"
					Text="{Binding IsUserActive}" />

				<Label
					Grid.Row="3"
					FontAttributes="Bold"
					Text="Создан:"
					VerticalTextAlignment="Center" />
				<Label
					Grid.Row="3"
					Grid.Column="1"
					FontAttributes="Italic"
					Text="{Binding CreatedAt}" />
			</Grid>

			<Grid
				Margin="0,20"
				ColumnDefinitions="Auto,Auto,*"
				ColumnSpacing="12">
				<Button Command="{Binding SaveCommand}" Text="Сохранить" />
				<Button
					Grid.Column="1"
					Command="{Binding BackCommand}"
					Text="Назад" />
				<Button
					Grid.Column="2"
					Background="Tomato"
					Command="{Binding RemoveCommand}"
					HorizontalOptions="End"
					Text="Удалить" />
			</Grid>
		</VerticalStackLayout>
	</ScrollView>
</ContentPage>

