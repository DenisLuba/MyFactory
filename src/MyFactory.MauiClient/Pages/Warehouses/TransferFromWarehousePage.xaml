<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
	x:Class="MyFactory.MauiClient.Pages.Warehouses.TransferFromWarehousePage"
	xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Warehouses"
	Title="Перемещение"
	x:DataType="view_model:TransferFromWarehousePageViewModel">
	<Grid
		Padding="16"
		RowDefinitions="Auto,Auto,Auto,Auto,Auto"
		RowSpacing="12">
		<VerticalStackLayout Spacing="4">
			<Label
				FontAttributes="Bold"
				FontSize="18"
				Text="Перемещение" />
			<Label FontAttributes="Bold" Text="Склад-отправитель:" />
			<Label Text="{Binding SourceWarehouseName}" />
			<Label>
				<Label.FormattedText>
					<FormattedString>
						<Span FontAttributes="Bold" Text="Товар / Материал: " />
						<Span Text="{Binding ItemName}" />
					</FormattedString>
				</Label.FormattedText>
			</Label>
			<Label>
				<Label.FormattedText>
					<FormattedString>
						<Span FontAttributes="Bold" Text="Доступно: " />
						<Span Text="{Binding AvailableQty}" />
						<Span Text=" " />
						<Span Text="{Binding UnitCode}" />
					</FormattedString>
				</Label.FormattedText>
			</Label>
		</VerticalStackLayout>

		<VerticalStackLayout Grid.Row="1" Spacing="8">
			<Label FontAttributes="Bold" Text="Склад назначения" />
			<Picker
				ItemDisplayBinding="{Binding Name}"
				ItemsSource="{Binding Warehouses}"
				SelectedItem="{Binding SelectedWarehouse}" />
		</VerticalStackLayout>

		<VerticalStackLayout Grid.Row="2" Spacing="4">
			<Label FontAttributes="Bold" Text="Количество для перемещения" />
			<Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
				<Entry
					Grid.Column="0"
					Keyboard="Numeric"
					Placeholder="0"
					Text="{Binding QuantityInput}"
					TextColor="{Binding QuantityColor}" />
				<Label
					Grid.Column="1"
					Text="{Binding UnitCode}"
					VerticalTextAlignment="Center" />
			</Grid>
		</VerticalStackLayout>

		<Label
			Grid.Row="3"
			Text="{Binding ErrorMessage}"
			TextColor="Tomato" />

		<HorizontalStackLayout Grid.Row="4" Spacing="8">
			<Button Command="{Binding TransferCommand}" Text="Переместить" />
			<Button Command="{Binding BackCommand}" Text="Назад" />
		</HorizontalStackLayout>
	</Grid>
</ContentPage>
