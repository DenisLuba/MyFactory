<ContentPage
	x:Class="MyFactory.MauiClient.Pages.Finance.FinancialReports.MonthlyReportDetailsPage"
	xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:view_model="clr-namespace:MyFactory.MauiClient.ViewModels.Finance.FinancialReports"
	Title="Месячный отчёт"
	x:DataType="view_model:MonthlyReportDetailsPageViewModel">
	<ScrollView>
		<VerticalStackLayout Padding="16" Spacing="12">
			<Label
				FontAttributes="Bold"
				FontSize="18"
				Text="{Binding Title}" />

			<Grid
				ColumnDefinitions="Auto,*"
				ColumnSpacing="8"
				RowDefinitions="Auto,Auto,Auto"
				RowSpacing="4">
				<Label FontAttributes="Bold" Text="Статус:" />
				<Label Grid.Column="1" Text="{Binding Status}" />
				<Label
					Grid.Row="1"
					FontAttributes="Bold"
					Text="Рассчитан:" />
				<Label
					Grid.Row="1"
					Grid.Column="1"
					Text="{Binding CalculatedAt}" />
				<Label
					Grid.Row="2"
					FontAttributes="Bold"
					Text="Создал:" />
				<Label
					Grid.Row="2"
					Grid.Column="1"
					Text="{Binding CreatedBy}" />
			</Grid>

			<Border
				Padding="8"
				Stroke="LightGray"
				StrokeThickness="1">
				<Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
					<Label FontAttributes="Bold" Text="Доходы" />
					<Button
						Grid.Column="1"
						Command="{Binding OpenRevenueDetailsCommand}"
						Text="Подробнее" />
					<Label Grid.Row="1" Text="Отгружено продукции:" />
					<Label
						Grid.Row="1"
						Grid.Column="1"
						HorizontalTextAlignment="End"
						Text="{Binding TotalRevenue}" />
				</Grid>
			</Border>

			<Border
				Padding="8"
				Stroke="LightGray"
				StrokeThickness="1">
				<Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
					<Label FontAttributes="Bold" Text="Зарплата" />
					<Button
						Grid.Column="1"
						Command="{Binding OpenPayrollDetailsCommand}"
						Text="Подробнее" />
					<Label Grid.Row="1" Text="Начислено:" />
					<Label
						Grid.Row="1"
						Grid.Column="1"
						HorizontalTextAlignment="End"
						Text="{Binding PayrollExpenses}" />
				</Grid>
			</Border>

			<Border
				Padding="8"
				Stroke="LightGray"
				StrokeThickness="1">
				<Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
					<Label FontAttributes="Bold" Text="Материалы" />
					<Button
						Grid.Column="1"
						Command="{Binding OpenMaterialsDetailsCommand}"
						Text="Подробнее" />
					<Label Grid.Row="1" Text="Списано материалов:" />
					<Label
						Grid.Row="1"
						Grid.Column="1"
						HorizontalTextAlignment="End"
						Text="{Binding MaterialExpenses}" />
				</Grid>
			</Border>

			<Border
				Padding="8"
				Stroke="LightGray"
				StrokeThickness="1">
				<Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
					<Label FontAttributes="Bold" Text="Прочие расходы" />
					<Button
						Grid.Column="1"
						Command="{Binding OpenOtherExpensesDetailsCommand}"
						Text="Подробнее" />
					<Label Grid.Row="1" Text="Эксплуатация:" />
					<Label
						Grid.Row="1"
						Grid.Column="1"
						HorizontalTextAlignment="End"
						Text="{Binding OtherExpenses}" />
				</Grid>
			</Border>

			<Border
				Padding="8"
				Stroke="LightGray"
				StrokeThickness="1">
				<VerticalStackLayout Spacing="6">
					<Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
						<Label FontAttributes="Bold" Text="ИТОГО:" />
						<Label
							Grid.Column="1"
							FontAttributes="Bold"
							HorizontalTextAlignment="End"
							Text="{Binding Profit}" />
					</Grid>
				</VerticalStackLayout>
			</Border>

			<HorizontalStackLayout Spacing="12">
				<Button Command="{Binding RecalculateCommand}" Text="Пересчитать" />
				<Button Command="{Binding ApproveCommand}" Text="Утвердить" />
				<Button Command="{Binding CloseCommand}" Text="Закрыть месяц" />
			</HorizontalStackLayout>
		</VerticalStackLayout>
	</ScrollView>
</ContentPage>

