class AuthController
{
    [HttpPost("login")]
    public IActionResult Login([FromBody] LoginRequest req);

    [HttpPost("refresh")]
    public IActionResult Refresh([FromBody] RefreshRequest req);

    [HttpPost("register")]
    public IActionResult Register([FromBody] RegisterRequest req);

}

class CustomersController
{
    [HttpGet("search")]
    public IActionResult Search([FromQuery] string? query);

}

class EmployeesController
{
    [HttpGet]
    public IActionResult GetAll([FromQuery] string? role = null);

    [HttpGet("{id:guid}")]
    public IActionResult GetById(Guid id);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] EmployeeUpdateRequest request);

}

class FilesController
{
    [HttpPost("upload")]
    public IActionResult Upload([FromForm] UploadFileRequest request);

    [HttpGet("{id}")]
    public IActionResult Download(Guid id);

    [HttpDelete("{id}")]
    public IActionResult Delete(Guid id);

}

class FinanceController
{
    [HttpPost("overheads")]
    public IActionResult AddOverhead([FromBody] RecordOverheadRequest request);

    [HttpPut("overheads/{id}")]
    public IActionResult UpdateOverhead(Guid id, [FromBody] RecordOverheadRequest request);

    [HttpPut("overheads/{id}/post")]
    public IActionResult PostOverhead(Guid id);

    [HttpDelete("overheads/{id}")]
    public IActionResult DeleteOverhead(Guid id);

    [HttpGet("overheads")]
    public IActionResult GetOverheads([FromQuery] int month = 11, int year = 2025, string? article = null, OverheadStatus? status = null);

    [HttpGet("overheads/articles")]
    public IActionResult GetOverheadArticles();

    [HttpPost("advances")]
    public IActionResult CreateAdvance([FromBody] CreateAdvanceRequest request);

    [HttpPost("advances/{id}/report")]
    public IActionResult SubmitAdvanceReport( string id, [FromBody] SubmitAdvanceReportRequest request);

    [HttpGet("advances")]
    public IActionResult GetAdvances();

    [HttpDelete("advances/{advanceNumber}")]
    public IActionResult DeleteAdvance(string advanceNumber);

    [HttpPut("advances/{advanceNumber}/close")]
    public IActionResult CloseAdvance(string advanceNumber);

}

class FinishedGoodsController
{
    [HttpPost("receipt")]
    public IActionResult Receipt([FromBody] ReceiptFinishedGoodsRequest request);

    [HttpGet("receipt")]
    public IActionResult GetReceipts();

    [HttpGet("receipt/{id:guid}")]
    public IActionResult GetReceiptById(Guid id);

    [HttpGet]
    public IActionResult Inventory();

    [HttpPost("move")]
    public IActionResult Move([FromBody] MoveFinishedGoodsRequest request);

}

class InventoryController
{
    [HttpGet]
    public IActionResult GetAll([FromQuery] string? materialId = null);

    [HttpGet("by-warehouse/{warehouseId}")]
    public IActionResult ByWarehouse(string warehouseId);

    [HttpPost("receipt")]
    public IActionResult CreateReceipt([FromBody] CreateInventoryReceiptRequest request);

    [HttpPost("adjust")]
    public IActionResult Adjust([FromBody] AdjustInventoryRequest request);

    [HttpPost("transfer")]
    public IActionResult Transfer([FromBody] TransferInventoryRequest request);

}

class MaterialReceiptsController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] MaterialReceiptUpsertRequest request);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] MaterialReceiptUpsertRequest request);

    [HttpPost("{id:guid}/post")]
    public IActionResult Post(Guid id);

    [HttpGet("{id:guid}/lines")]
    public IActionResult GetLines(Guid id);

    [HttpPost("{id:guid}/lines")]
    public IActionResult AddLine(Guid id, [FromBody] MaterialReceiptLineUpsertRequest request);

    [HttpPut("{id:guid}/lines/{lineId:guid}")]
    public IActionResult UpdateLine(Guid id, Guid lineId, [FromBody] MaterialReceiptLineUpsertRequest request);

    [HttpDelete("{id:guid}/lines/{lineId:guid}")]
    public IActionResult DeleteLine(Guid id, Guid lineId);

}

class MaterialsController
{
    [HttpGet]
    public IActionResult List([FromQuery] string? type = null);

    [HttpGet("{id}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] CreateMaterialRequest request);

    [HttpPut("{id}")]
    public IActionResult Update(string id, [FromBody] UpdateMaterialRequest request);

    [HttpGet("{id}/price-history")]
    public IActionResult PriceHistory(Guid id);

    [HttpPost("{id}/prices")]
    public IActionResult AddPrice(string id, [FromBody] AddMaterialPriceRequest request);

    [HttpGet("type")]
    public IActionResult GetMaterialTypeById([FromQuery] Guid id);

}

class MaterialTransfersController
{
    [HttpGet]
    public IActionResult List([FromQuery] DateTime? date = null, [FromQuery] string? warehouse = null, [FromQuery] string? productionOrder = null);

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] MaterialTransferCreateRequest request);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] MaterialTransferUpdateRequest request);

    [HttpDelete("{id:guid}")]
    public IActionResult Delete(Guid id);

    [HttpPost("{id:guid}/submit")]
    public IActionResult Submit(Guid id);

}

class OperationsController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id}")]
    public IActionResult Get(Guid id);

    [HttpPut("{id}")]
    public IActionResult Update(Guid id, [FromBody] OperationUpdateRequest request);

}

class PayrollController
{
    [HttpGet]
    public IActionResult Get([FromQuery] int periodMonth = 11, int periodYear = 2025);

    [HttpPost("calc")]
    public IActionResult Calculate([FromQuery] DateTime from, [FromQuery] DateTime to);

    [HttpPost("pay")]
    public IActionResult Pay([FromBody] PayrollPayRequest dto);

}

class ProductionController
{
    [HttpPost("orders")]
    public IActionResult CreateOrder([FromBody] ProductionCreateOrderRequest request);

    [HttpGet("orders/{id}")]
    public IActionResult GetOrder(Guid id);

    [HttpGet("orders/{id}/status")]
    public IActionResult GetOrderStatus(Guid id);

    [HttpPost("orders/{id}/allocate")]
    public IActionResult Allocate(Guid id, [FromBody] ProductionAllocateRequest request);

    [HttpPost("orders/{id}/stages")]
    public IActionResult RecordStage(Guid id, [FromBody] ProductionRecordStageRequest request);

    [HttpPost("orders/{id}/assign")]
    public IActionResult AssignWorker(Guid id, [FromBody] ProductionAssignWorkerRequest request);

}

class ProductionOrdersController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] ProductionOrderCreateRequest request);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] ProductionOrderUpdateRequest request);

    [HttpDelete("{id:guid}")]
    public IActionResult Delete(Guid id);

    [HttpGet("{id:guid}/material-transfers")]
    public IActionResult GetMaterialTransfers(Guid id);

    [HttpGet("{id:guid}/stage-distribution")]
    public IActionResult GetStageDistribution(Guid id);

}

class ProductsController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id}")]
    public IActionResult Get(Guid id);

    [HttpPut("{id}")]
    public IActionResult Update(Guid id, [FromBody] ProductUpdateRequest request);

    [HttpGet("{id}/bom")]
    public IActionResult GetBom(Guid id);

    [HttpPost("{id}/bom")]
    public IActionResult AddBom(Guid id, [FromBody] ProductBomCreateRequest request);

    [HttpDelete("{id}/bom/{lineId}")]
    public IActionResult DeleteBom(Guid id, Guid lineId);

    [HttpGet("{id}/operations")]
    public IActionResult GetOperations(Guid id);

    [HttpPost("{id}/operations")]
    public IActionResult AddOperation(Guid id, [FromBody] ProductOperationCreateRequest request);

    [HttpDelete("{id}/operations/{lineId}")]
    public IActionResult DeleteOperation(Guid id, Guid lineId);

}

class PurchasesController
{
    [HttpPost("requests")]
    public IActionResult CreatePurchase([FromBody] PurchasesCreateRequest request);

    [HttpPut("requests/{id:guid}")]
    public IActionResult UpdatePurchase(Guid id, [FromBody] PurchasesCreateRequest request);

    [HttpGet("requests")]
    public IActionResult PurchasesList();

    [HttpGet("requests/{id:guid}")]
    public IActionResult GetPurchase(Guid id);

    [HttpDelete("requests/{id:guid}")]
    public IActionResult DeletePurchase(Guid id);

    [HttpPost("requests/{id:guid}/convert-to-order")]
    public IActionResult ConvertToOrder(Guid id);

}

class ReportsController
{
    [HttpGet("monthly-profit")]
    public IActionResult MonthlyProfit([FromQuery] int month = 11, int year = 2025);

    [HttpGet("monthly-profit/year/{year:int}")]
    public IActionResult MonthlyProfitByYear(int year);

    [HttpGet("revenue")]
    public IActionResult Revenue([FromQuery] int month = 11, int year = 2025);

    [HttpGet("production-cost")]
    public IActionResult ProductionCost([FromQuery] int month = 11, int year = 2025);

}

class ReturnsController
{
    [HttpGet]
    public IActionResult GetReturns();

    [HttpGet("{id:guid}")]
    public IActionResult GetReturnById(Guid id);

    [HttpPost]
    public IActionResult CreateReturn([FromBody] ReturnsCreateRequest request);

}

class SettingsController
{
    [HttpGet]
    public IActionResult GetAll();

    [HttpGet("{key}")]
    public IActionResult Get(string key);

    [HttpPut("{key}")]
    public IActionResult Update(string key, [FromBody] SettingUpdateRequest dto);

}

class ShiftsController
{
    [HttpPost("plans")]
    public IActionResult CreatePlan([FromBody] ShiftsCreatePlanRequest dto);

    [HttpGet("plans")]
    public IActionResult GetPlans([FromQuery] DateTime? date = null);

    [HttpGet("plans/{shiftPlanId:guid}")]
    public IActionResult GetPlanById(Guid shiftPlanId);

    [HttpPost("results")]
    public IActionResult RecordResult([FromBody] ShiftsRecordResultRequest dto);

    [HttpGet("results")]
    public IActionResult GetResults( [FromQuery] Guid? employeeId = null, [FromQuery] DateTime? date = null);

    [HttpGet("results/{shiftPlanId:guid}")]
    public IActionResult GetResultById(Guid shiftPlanId);

}

class ShipmentsController
{
    [HttpGet]
    public IActionResult GetAll();

    [HttpPost]
    public IActionResult CreateShipment([FromBody] ShipmentsCreateRequest dto);

    [HttpGet("{id}")]
    public IActionResult Get(Guid id);

    [HttpPost("{id}/confirm-payment")]
    public IActionResult ConfirmPayment(Guid id);

}

class SpecificationsController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id}")]
    public IActionResult Get(Guid id);

    [HttpGet("{id}/bom")]
    public IActionResult GetBom(Guid id);

    [HttpGet("{id}/operations")]
    public IActionResult GetOperations(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] SpecificationsCreateRequest dto);

    [HttpPut("{id}")]
    public IActionResult Update(Guid id, [FromBody] SpecificationsUpdateRequest dto);

    [HttpPost("{id}/bom")]
    public IActionResult AddBom(Guid id, [FromBody] SpecificationsAddBomRequest dto);

    [HttpDelete("{id}/bom/{bomId}")]
    public IActionResult DeleteBomItem(Guid id, Guid bomId);

    [HttpPost("{id}/operations")]
    public IActionResult AddOperation(Guid id, [FromBody] SpecificationsAddOperationRequest dto);

    [HttpPost("{id}/images")]
    public IActionResult UploadImage(Guid id);

    [HttpGet("{id}/cost")]
    public IActionResult Cost(Guid id, [FromQuery] DateTime? asOf = null);

}

class SuppliersController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] SuppliersCreateUpdateRequest request);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] SuppliersCreateUpdateRequest request);

    [HttpDelete("{id:guid}")]
    public IActionResult Delete(Guid id);

}

class UsersController
{
    [HttpGet]
    public IActionResult GetByRole([FromQuery] string? role = null);

    [HttpGet("{id:guid}")]
    public IActionResult GetById(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] UsersCreateRequest payload);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] UsersUpdateRequest payload);

    [HttpDelete("{id:guid}")]
    public IActionResult Delete(Guid id);

}

class WarehousesController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] WarehousesCreateRequest dto);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] WarehousesUpdateRequest dto);

    [HttpDelete("{id:guid}")]
    public IActionResult Delete(Guid id);

}

class WorkshopExpensesController
{
    [HttpGet]
    public IActionResult List([FromQuery] Guid? workshopId = null);

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] WorkshopExpenseCreateRequest request);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] WorkshopExpenseUpdateRequest request);

}

class WorkshopsController
{
    [HttpGet]
    public IActionResult List();

    [HttpGet("{id:guid}")]
    public IActionResult Get(Guid id);

    [HttpPost]
    public IActionResult Create([FromBody] WorkshopCreateRequest request);

    [HttpPut("{id:guid}")]
    public IActionResult Update(Guid id, [FromBody] WorkshopUpdateRequest request);

}
